---
title: "covid-19 analysis data"
author: "Trang Duong"
date: "9/24/2020"
output: html_document
---
<style type="text/css">
.main-container {
  max-width: 1500px;
  margin-left: auto;
  margin-right: auto;
}
</style>

```{css horizontal scrolling, echo = FALSE}
pre, code {white-space:pre !important; overflow-x:scroll !important}
html { overflow-x: scroll; }
```


```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE)
```

## Packages

```{r}

library(googlesheets4)
library(lubridate)
library(magrittr)
library(stringr)
library(purrr)
library(tidyr)
library(dplyr)
library(tidyverse)
```

## Functions

These 2 functions are needed to deal with the fact that some free text is in the
`date_onset` variable:

```{r}
null2na <- function(x) {
  if (is.null(x)) return(NA)
  x
}
```

```{r}
unlist_dates <- function(x) {
  x %>%
    as.data.frame() %>%
    t() %>%
    as.data.frame() %>%
    pull(V1)
}
```

## Data
```{r}
gs4_deauth()

covid_df <- data.frame(covid_confirmed) %>% 
  rename(id ='MCB',
         type_of_observation = 'Loại.giám.sát',
         full_name = 'Họ.và.tên',
         age = 'Tuổi',
         age_group = 'Nhóm.tuổi',
         gender = 'Giới',
         address = 'Địa.chỉ.nơi.ở..nơi.lưu.trú',
         province_report = "Nơi.phát.hiện",
         profession = "Nghề.nghiệp",
         commune = "Xã.phường",
         district = "Huyện.quận",
         province = "Tỉnh.tp",
         phone_number = "Số.điện.thoại",
         phone_tracking = "Đã.tracking.điện.thoại",
         nationality = "Quốc.tịch",
         infected_type = "Loại.ca.bệnh.đích",
         sus_infect_area = "Vùng.dịch",
         sus_infec_country = "Quốc.gia.có.dịch",
         flight_seat = "Chuyến.bay..số.ghế.",
         quarantine_entry = "Cách.ly.sau.nhập.cảnh",
         infector = "Tên.ca.bệnh.đích",
         infector_relationship = "Mối.quan.hệ.với.ca.bệnh.đích",
         contact_type = "Phân.loại.tiếp.xúc",
         date_last_contact = "Ngày.tiếp.xúc.cuối.cùng",
         contact_description = "Mô.tả.hoàn.cảnh.tiếp.xúc",
         admission_date = "Ngày.vào.viện",
         treating_unit = "Cơ.sở.điều.trị",
         quarantine_type = "Loại.cách.ly",
         quarantine_start_date = "Ngày.bắt.đầu.cách.ly",
         quarantine_end_date = "Ngày.chấm.dứt.cách.ly",
         onset_date = "Ngày.khởi.phát",
         symptom = "Có.triệu.chứng",
         onset_symptom = "Triệu.chứng.khởi.phát",
         number_of_test = "Số.lần.xét.nghiệm",
         comorbidity = "Bệnh.nền"
         ) %>%
  mutate(
        type_of_observation = recode(type_of_observation, 
                                     "Ca xác định" = "confirmed_case",
                                     "Ca nghi ngờ" = "suspected_case"
                                     ),
        # infection_area = recode(infection_area,
        #                         )
        quarantine_type = recode(quarantine_type, 
                                 "Cơ sở điều trị" = "treating unit",
                                 "Tại nhà" = "at home",
                                 "Cơ sở tập trung" = "quarantine center"
                                   ),
        infected_type =  recode(infected_type,
                                 "Ổ dịch nước ngoài" = "imported",
                                 "Ca xác định"  = "confirmed case",
                                 "Ổ dịch nội địa" = "inland",
                                 "Ca tiếp xúc" = "contact",
                                 "Ca nghi ngờ" = "suspected"),
        
        gender= recode(gender, w
                       Nam = "male", 
                       Nữ = "female"),
        age_group = recode(age_group, 
                           "1.Từ 1-5" = "1. From 1-5",
                           "2.Từ 6-15" = "2.From 6-15",
                           "3.Từ 16-25" = "3.From 16-25",
                           "4.Từ 26-40" = "4.From 26-40",
                           "5.Từ 41-60" = "5.From 41-60",
                           "6.Từ 61-70" = "6.From 61-70",
                           "7.Trên 70" = "7.From 70")
  ) 


  mutate_if(is.list, ~ map(.x, null2na) %>% unlist_dates()) %>% # because some date variables contain free text
  mutate_at("date_last_contact", ~ str_replace_all(.x, "Chưa xác định", NA_character_) %>% ymd()) %>% # because some date variables contain free text
  mutate_if(~ "POSIXct" %in% class(.x), as.Date) %>% 
  mutate_at("age", as.integer) %>% 
  mutate_at(c("province", "district", "commune", "province_report"),
            ~ .x %>% str_squish() %>% str_to_title()) 
```
%>% 
  mutate(onset_before_report = recode(onset_before_report,
                                      `Chưa khởi phát` = "no",
                                      `Chưa rõ`        = "unclear",
                                      `Có`             = "yes"),
         symptom_admission   = recode(symptom_admission,
                                      `Không triệu chứng` = "none",
                                      Nặng                = "severe",
                                      Nhẹ                 = "mild"),
         patient_group       = recode(patient_group,
                                      `Hàng xóm`       = "neighbor",
                                      `Người chăm sóc` = "care giver",
                                      `Người thăm`     = "visitor",
                                      `Người quen`     = "acquaintance",
                                      `Chưa xác định`  = "unknown",
                                      `Cộng đồng`      = "community",
                                      `Nhân viên Y tế` = "healthcare staff",
                                      `Bệnh nhân`      = "patient",
                                      `Người nhà`      = "household"),
         comorbidity         = ! comorbidity == "Không",
         dead                = replace_na(dead == "Tử vong", FALSE),
         infector            = strsplit(infector, ", "),
         district            = district %>% 
                                 str_replace("^Thanh Bình$"  , "Thăng Bình") %>% 
                                 str_replace("^Tp Hội An$"   , "Hội An"),
         commune             = commune %>% 
                                 str_replace("^Điện Hoà$"    , "Điện Hòa") %>% 
                                 str_replace("^Hòa Hải$"     , "Hoà Hải") %>% 
                                 str_replace("^Hoà Hiệp Bắc$", "Hòa Hiệp Bắc") %>% 
                                 str_replace("^Hòa Mỹ$"      , "Hòa Minh") %>% 
                                 str_replace("^Quế Xuân I$"  , "Quế Xuân 1") %>% 
                                 str_replace("^Thanh Khê$"   , "An Khê") %>% 
                                 str_replace("^Tuân Chính$"  , "Tân Chính"),
         district            = if_else(province == "Đà Nẵng" & commune  == "Hòa Khê"      , "Thanh Khê", district),
         district            = if_else(province == "Đà Nẵng" & commune  == "Phước Mỹ"     , "Sơn Trà", district),
         district            = if_else(province == "Đà Nẵng" & commune  == "Hòa Cường Nam", "Hải Châu" , district),
         commune             = if_else(province == "Quảng Nam" & district == "Duy Xuyên" & commune == "Châu Hiệp" , "Duy Hải"    , commune),
         commune             = if_else(province == "Đà Nẵng"   & district == "Hải Châu"  & commune == "Hải Phòng" , "Hải Châu I" , commune),
         commune             = if_else(province == "Đà Nẵng"   & district == "Hải Châu"  & commune == "Hùng Vương", "Nam Dương"  , commune),
         district            = if_else(province == "Đà Nẵng" & commune  == "Nguyễn Hữu Thọ", "Hải Châu"     , district),
         commune             = if_else(province == "Đà Nẵng" & commune  == "Nguyễn Hữu Thọ", "Hòa Thuận Tây", commune),
         
         district            = if_else(province == "Đà Nẵng" & commune  == "Nguyễn Sắc Kim", "Cẩm Lệ"  , district),
         commune             = if_else(province == "Đà Nẵng" & commune  == "Nguyễn Sắc Kim", "Hòa Xuân", commune),
         
         commune = if_else(province == "Quảng Nam" & district == "Hội An" & commune == "Chùa Bảo Thắng", "Cẩm Châu", commune),
         profession = recode(profession, 
                             `Bác sĩ` = "doctor",
                             `Bảo vệ` = "guard",
                             `Bộ đội` = "soldier",
                             `Buôn bán` = "business",
                             `Cán bộ` = "official",
                             `Cán bộ nhà nước` = "state official",
                             `Chăm sóc thuê` = "care giver",
                             `Chủ tịch ủy ban nhân dân` = "chairman of the People’s Committee",
                             `Chưa xác định` = "unknown",
                             `Công an` = "police",
                             `Công nhân` = "worker",
                             `Công nhân đường sắt` = "railway worker",
                             `Đầu bếp` = "chef",
                             `Điều dưỡng` = "nurse",
                             `Doanh nhân` = "business",
                             `Dược sĩ` = "pharmacist",
                             `Giám đốc` = "director",
                             `Giám đốc trạm thu phí` = "toll station director",
                             `Giảng viên` = "instructor",
                             `Giáo viên` = "teacher",
                             `Giáo viên mầm non` = "preschool teacher",
                             `Giữ trẻ` = "child care",
                             `Hộ lý` = "paramedic",
                             `Học sinh` = "pupil",
                             `Hiệu trưởng` = "president of a school",
                             `Hưu trí` = "retire",
                             `Kế toán` = "accountant",
                             `Không` = "none",
                             `Kinh doanh` = "business",
                             `Kinh doanh quán cafe` = "coffee business",
                             `Kinh doanh sơn` = "paint business",
                             `Kinh doanh tự do` = "business",
                             `Kỹ sư` = "engineer",
                             `Kỹ thuật viên` = "technician",
                             `Lái thuyền (làm dịch vụ)` = "boat driver (service)",
                             `Lái xe` = "driver",
                             `Làm bếp` = "cook",
                             `Làm nông` = "farmer",
                             `Lao động` = "worker",
                             `Lao động tự do` = "freelancer",
                             `Người chăm sóc` = "care giver",
                             `Người già` = "elderly",
                             `Nhân viên` = "employee",
                             `Nhân viên bar` = "bar employee",
                             `Nhân viên CT Thủy sản miền trung` = "employee at Central seafood company", 
                             `Nhân viên đài truyền hình` = "employee at television station",
                             `Nhân viên tổng đài` = "customer service representative",
                             `Nhân viên điều hành xe bus` = "bus operator",
                             `Nhân viên ngân hàng` = "employee at a bank",
                             `Nhân viên vệ sinh` = "sanitary worker",
                             `Nhân viên Y tế` = "healthcare staff",
                             `Nhân viên y tế`  = "healthcare staff",
                             `Nhân viên Y tế TT Q. Cẩm Lệ` = "healthcare staff at Cam Le medical center",
                             `Nhân viên y tế TT Q. Hải Châu` = "healthcare staff at Hai Chau medical center",
                             `Nội trợ` = "housewife",
                             `Nông dân` = "farmer",
                             `Nông Dân` = "farmer",
                             `Nông nghiệp` = "farming",
                             `Ở nhà` = "staying home",
                             `Phó chủ tịch phường` = "vice president of the Ward",
                             `Phó hiệu trưởng` = "vice-president of a school",
                             `Phục vụ` = "waitress/waiter",
                             `Phục vụ quán ăn` = "waitress/waiter",
                             `Sinh viên` = "student",
                             `Sinh viên điều dưỡng` = "student",
                             `Sư cô` = "nun",
                             `Sửa chữa vi tính` = "computer technician",
                             `Sửa xe ô tô` = "car repairman",
                             `Sửa ô tô` = "car repairman",
                             `Thợ cắt tóc` = "barber",
                             `Thợ hồ` = "mason",
                             `Thợ xây dựng` = "mason",
                             `Thợ may` = "tailor",
                             `Thợ sơn` = "painter",
                             `Thợ sửa điện thoại` = "phone repairman",
                             `Thợ xăm` = "tattooist",
                             `Thông dịch viên` = "translator",
                             `Thương binh` = "veteran",
                             `Trẻ con` = "child",
                             `Trẻ em` = "child",
                             `Trẻ nhỏ` = "child",
                             `Võ sư` = "martial teacher",
                             `Xe ôm` = "motorbike driver",
                             `Y tế tư nhân` = "healthcare staff"),
         
         comorbidity_name = recode(comorbidity_name,
                             `bệnh thận mạn` = "chronic kidney disease",
                             `Bướu cổ, sỏi thận` = "goiter, nephrolithiasis ",
                             `Cao huyết áp` = "hypertension",
                             `Chảy máu chân răng` = "bleeding gums",
                             `Chưa rõ` = "unknown",
                             `COPD, u ác niệu quản` = "COPD, creteral cancer",
                             `CVD` = "cardiovascular disease",
                             `Đa u tủy xương` = "multiple myeloma",
                             `Đái tháo đường` = "diabetes",
                             `Đái tháo đường túyp 2, bệnh mạch vành đặt stent` = "type II diabetes, coronary artery disease, stent deployed",
                             `Đái tháo đường tuýp 2, Đa u tủy` = "type II diabetes, multiple myeloma",
                             `Đái tháo đường type 2, tăng huyết áp` = "type II diabetes, hypertension",
                             `Đái tháo đường, gout` = "diabetes, gout",
                             `Đái tháo đường, Tăng huyết áp` = "diabetes, hypertension",
                             `Đái tháo đường, tăng huyết áp, bệnh về tim mạch` = "diabetes, hypertension, heart disease",
                             `đái tháo đường, tăng huyết áp, viêm dạ dày` = "diabetes, hypertension, gastritis",
                             `Đái tháo đường, tăng huyết áp.` = "diabetes, hypertension",
                             `Đái tháo đường, tăng huyết áp` = "diabetes, hypertension",
                             `Đau chân` = "leg pain",
                             `đau dạ dày, rối loạn tiền đình` = "stomach disease, vestibular disorder",
                             `Động kinh` = "epileptic",
                             `Đột quỵ` = "stroke",
                             `GERD` = "gastro-oesophageal reflux disease",
                             `Huyết áp cao` = "hypertension",
                             `Hội chứng Gullain Barre, Đái tháo đường Type II` = "Guillain-Barre syndrome, type II diabetes",
                             `Không rõ` = "unknown",
                             `Liệt dây thần kinh số 7` = "cranial nerve 7 paralysis",
                             `Loãng xương` = "osteoporosis",
                             `Nang trung thất` = "mediastinal tumor",
                             `Ngoại tâm thu thất, thiếu máu cơ tim` = "premature ventricular contraction, myocardial ischemia",
                             `Nhiễm trung tiết niệu` = "urinary tract infections",
                             `Parkinson, sỏi ống mật chủ, viêm dạ dày` = "parkinson, cholelithiasis, gastritis",
                             `Rối loạn tiền đình, viêm dạ dày tá tràng, Phì đại tiền liệt tuyến` = "vestibular disorder, gastritis and duodenitis, prostate enlargement",
                             `Sỏi thận` = "cholelithiasis",
                             `Suy thận` = "kidney failure",
                             `Suy thận giai đoạn cuối` = "end-stage chronic kidney failure",
                             `Suy thận mạn` = "chronic kidney failure",
                             `Suy thận mạn giai đoạn cuối, cao\nhuyết áp, đái tháo đường, bệnh tim thiếu máu cục bộ` = 
                               "end-stage chronic kidney failure, hypertension, diabetes, coronary artery disease",
                             `Suy thận mạn giai đoạn cuối, tăng\r\nhuyết áp, đái tháo đường, rung nhĩ, gout` = 
                               "end-stage chronic kidney failure, hypertension, diabetes, atrial fibrillation, gout",
                             `Suy thận mạn giai đoạn cuối, tăng huyết áp, suy tim, thiếu máu cục bộ` = 
                               "end-stage chronic kidney failure, hypertension, heart failure, ischemia",
                             `Suy thận, suy tim` = "kidney failure, heart failure",
                             `Suy tim, nhồi máu cơ tim` = "heart failure, myocardial infarction",
                             `Suy tim, Suy thận mạn` = "heart failure, chronic kidney failure",
                             `Suy tim, suy thận mạn, đái tháo đường` = "heart failure, chronic kidney failure, diabetes",
                             `Suy tim, thiếu máu, viêm gan C, bệnh thận mạn giai đoạn cuối phát hiện cách đây 3 năm, chạy thận thường xuyên (2 lần/tuần, thứ 2 và thứ 5) tại bệnh viện Đà Nẵng` = 
                               "heart failure, anemia, hepatitis C, end-stage chronic kidney disease detected 3 years ago, regular dialysis (2 times / week, monday and thursday) at Da Nang hospital",
                             `Tai biến` = "cerebrovascular accident",
                             `Tai biến mạch máu não` = "cerebrovascular accident",
                             `Tai biến mạch máu não, suy thận` = "cerebrovascular accident, kidney failure",
                             `Tăng huyết áp` = "hypertension",
                             `Tăng huyết áp, Đái tháo đường` = "hypertension, diabetes",
                             `Tăng huyết áp, tiểu đường` = "hypertension, diabetes",
                             `Tăng tiểu cầu nguyên phát` = "thrombocythemia",
                             `Thiếu máu` = "anemia",
                             `Thoái hóa đa khớp nằm tại chỗ 6 năm` = "polyosteoarthritis ",
                             `Thoát vị bẹn` = "inguinal hernia",
                             `tổn thương cột sống cổ` = "damaged cervical spine",
                             `Thần kinh` = "neurologic disease",
                             `U tủy, Zona` = "myeloma, Zona",
                             `U bàn chân trái` = "tumor on the left foot",
                             `Ung thư đại tràng di căn phổi` = "colon cancer, lung metastasis",
                             `Ung thư vú` = "breast cancer",
                             `Ung thư buồng trứng di căn ổ bụng, sỏi thận, nhiễm trùng đường tiết niệu đã cắt thận trái` = "gastric metastasis from ovarian cancer, cholelithiasis, urinary tract infection, removed the left kidney",
                             `Viêm dạ dày, tim mạch, tăng huyết áp, đái tháo đường` = "gastritis, heart disease, hypertension, diabetes",
                             `Viêm đường tiết niệu` = "urinary tract infections",
                             `Viêm họng hạt mãn tính` = "chronic sore throat",
                             `Viêm phổi` = "pneumonia",
                             `yếu ½ người phải do tai nạn giao thông, biến dạng hộp sọ, vết mổ cũ hộp sọ trái`  = 
                               "one side of the body is weakened due to traffic an accident, deformed skull, incision in left skull half"),
         comorbidity_name = strsplit(comorbidity_name, ", "),
                             
         symptom = recode(symptom, 
                            `Mệt, ho có đờm`	 = "fatigue, cough with phlegm",
                            `Ho, sốt, mệt mỏi, sụt cân, ăn\r\nuống kém`	 = "cough, fever, fatigue, weight loss, poor appetite",
                            `Sốt`	 = "fever",
                            `Sốt, đau ngực`	 = "fever, chest pain",
                            `Ho`	 = "cough",
                            `Sốt, ho`	 = "fever, cough",
                            `Ho, sốt, khó thở`	 = "cough, fever, difficulty breathing",
                            `Tức ngực, mệt`	 = "chest tightness, fatigue",
                            `Tức ngực, mệt mỏi, đau nhức chân tay` = "chest tightness, fatigue, arm and leg pain",
                            `Ho, đờm nhiều`	 = "cough with a lot of phlegm",
                            `Ho nhẹ` = "mild cough",
                            `Khó thở, mệt`	 = "difficulty breathing, fatigue",
                            `Khó thở, tức ngực` = "difficulty breathing, chest tightness",
                            `Sốt, ho, mệt`	 = "fever, cough, fatigue",
                            `Mệt, đau đầu`	 = "fatigue, headache",
                            `Sốt, đau đầu`	 = "fever, headache",
                            `Sốt, đau họng`	 = "fever, sore throat",
                            `Sốt, mất khứu giác, ho`	 = "fever, loss of smell, cough",
                            `Sổ mũi, mỏi cơ`	 = "runny nose, muscle fatigue",
                            `Mệt mỏi, sốt`	 = "fatigue, fever",
                            `Sốt, ho, tức ngực, khó thở`	 = "fever, cough, chest tightness, difficulty breathing",
                            `mệt mỏi, đau đầu`	 = "fatigue, headache",
                            `Sốt, ho, đau họng, mệt mỏi`	 = "fever, cough, sore throat, fatigue",
                            `Ho, sốt`	 = "cough, fever",
                            `Mệt mỏi`	 = "fatigue",
                            `Mệt mỏi, khó thở`	 = "fatigue, difficulty breathing",
                            `Sốt, mệt mỏi`	 = "fever, fatigue",
                            `Sốt nhẹ,mệt mỏi` = "low-grade fever, fatigue",
                            `Sốt, ho có đờm, rát họng`	 = "fever, cough with phlegm, sore throat",
                            `Sốt, ớn lạnh`	 = "fever, chills",
                            `Mệt, sốt`	 = "fatigue, fever",
                            `Đau rát họng`	 = "sore throat",
                            `đau rát họng` = "sore throat",
                            `Ho, sổ mũi`	 = "cough, runny nose",
                            `Rát họng`	 = "sore throat",
                            `Mệt, khó thở`	 = "fatigue, difficulty breathing",
                            `Mệt mỏi, mất khứu giác`	 = "fatigue, loss of smell",
                            `Mệt mỏi, đau đầu`	 = "fatigue, headache",
                            `Sốt, nổi hạch`	 = "fever, lymphadenopathy",
                            `Sốt, ho, rát cổ`	 = "fever, cough, burning throat",
                            `Sốt nhẹ, mỏi người`	 = "low-grade fever, fatigue",
                            `Sốt nhẹ` = "low-grade fever",
                            `Ho, sốt nhẹ`	 = "cough, low-grade fever",
                            `Sốt nhẹ, đau đầu`	 = "low-grade fever, headache",
                            `Nhức mỏi người, rát họng`	 = "body aches, sore throat",
                            `Sốt nhẹ, đau họng, mỏi người`	 = "low-grade fever, sore throat, fatigue",
                            `Sốt, mệt mỏi, khó thở, đau họng` = "fever, fatigue, difficulty breathing, sore throat",
                            `Mệt mỏi, sốt nhẹ, ho, đau đầu`	 = "fatigue, low-grade fever, cough, headache",
                            `mệt mỏi, đau họng` = "fatigue, sore throat",
                            `sốt` = "fever",
                            `Ho, sốt, tức ngực`	 = "cough, fever, chest tightness",
                            `Ho, đờm, tức ngực`	 = "cough with phlegm, chest tightness",
                            `Mất khứu giác`	 = "loss of smell",
                            `Sốt, ho, tức ngực, rát họng`	 = "fever, cough, chest tightness, sore throat",
                            `Sốt, triệu chứng giống cúm`	 = "fever, flu-like symptoms",
                            `Sốt, ho, tức ngực`	 = "fever, cough, chest tightness",
                            `Sốt, đau đầu, rát cổ, ho` = "fever, headache, sore throat, cough",
                            `Sốt nhẹ, ho` = "low-grade fever, cough",
                            `Sốt, khó thở, đau đầu, mệt mỏi` = "fever, difficulty breathing, headache, fatigue",
                            `Rát họng, đau ngực`	 = "sore throat, chest pain",
                            `Rát cổ họng, ho nhẹ` = "sore throat, mild cough",
                            `Sốt nhẹ, mệt mỏi, ho`	 = "low-grade fever, fatigue, cough",
                            `Ho khan`	 = "dry cough",
                            `Ho, đau họng, mệt mỏi, đau đầu` = "cough, sore throat, fatigue, headache",
                            `Sốt, ho, khó thở`	 = "fever, cough, difficulty breathing",
                            `Sốt, mệt mỏi, đau đầu`	 = "fever, fatigue, headache",
                            `Ho, đau họng`	 = "cough, sore throat",
                            `Mệt mỏi, đau bụng`	 = "fatigue, abdominal pain",
                            `Sốt, đau đầu, đau họng`	 = "fever, headache, sore throat",
                            `Mệt mỏi, đau họng`	 = "fatigue, sore throat",
                            `Mệt mỏi, tức ngực, khó thở`	 = "fatigue, chest tightness, difficulty breathing",
                            `Mệt mỏi, run chân tay`	 = "fatigue, shaking hands and feet",
                            `Đau đầu, sốt nhẹ`	 = "headache, low-grade fever",
                            `đau đầu, ăn uống kém` = "poor appetite",
                            `Khó thở`	 = "difficulty breathing",
                            `Khó thở nhiều` = "much difficulty breathing",
                            `ho` = "cough"),
         symptom = strsplit(symptom, ", "),
                            
         sus_infect_location = recode(sus_infect_location,
                           `Bến xe Trung tâm Đà Nẵng` = "Da Nang central bus station",
                           `Bệnh viện Bình An` = "Binh An hospital",
                           `Bệnh viện Bình An\nBệnh viện ĐK Khu vực Quảng Nam` = "Binh An hospital and Quang Nam regional hospital",
                           `Bệnh viện Đa khoa Gia Đình` = "Family hospital",
                           `Bệnh viện Đà Nẵng\nBệnh viện Bình An` = "Da Nang hospital and Binh An hospital",
                           `Bệnh viện ĐK Khu vực Quảng Nam` = "Quang Nam regional hospital",
                           `BV Đà Nẵng` = "Da Nang hospital",
                           `Bệnh viện Đà Nẵng` = "Da Nang hospital",
                           `Bệnh viện Gia đình Đà Nẵng` = "Da Nang family hospital",
                           `Bệnh viện Phổi Đà Nẵng` = "Da Nang lung hospital",
                           `Bệnh viện Ung bướu Đà Nẵng` = "Da Nang oncology hospital",
                           `BV Phẫu thuật chỉnh hình` = "orthopedic surgery hospital",
                           `BV chỉnh hình và phục hồi chức năng Đà Nẵng` = "Da Nang orthopedics and rehabilitation hospital",
                           `BV Phụ sản - Nhi Đà Nẵng` = "Da Nang obstetrics and pediatrics hospital",
                           `Chợ siêu thị Đà Nẵng` = "Da Nang supermarket",
                           `Chợ Siêu thị, Đà Nẵng` = "Da Nang supermarket",
                           `Chợ Tân Lập, Đà Nẵng` = "Tan Lap supermarket, Da Nang",
                           `Chùa Bảo Thắng` = "Bao Thang pagoda",
                           `Chưa xác định` = "unknown",
                           `Cộng đồng` = "community",
                           `Công ty Pizza` = "pizza company",
                           `Công ty thiết bị y tế IMED` = "IMED medical equipment company",
                           `Công ty TNHH Sinaran Việt Nam` = "Sinaran Vietnam company",
                           `Đà Nẵng` = "Da Nang",
                           `Đại hội Đảng Quận Hải Châu` = "Hai Chau district party congress",
                           `Đám tang bà NTD` = "funeral for Mrs. NTD",
                           `Đám tang cùng gia đình BN616` = "funeral with family of BN616",
                           `Đám tang ngàg 27/7 tại số 1 Lệ Nam Sơn` = "funeral on Jul 27 at 01 Le Nam Son St.",
                           `Đám tang ông HCG` = "funeral for Mr. HCG",
                           `Du lịch Đà Nẵng` = "Da Nang travel",
                           `Khoa Bỏng, BV Đà Nẵng` = "burn department, Da Nang hospital",
                           `Khoa Gây mê hồi sức, BV Ung bướu Đà Nẵng` = "anesthesiology department, Da Nang oncology hospital",
                           `Khoa Hồi sức Cấp cứu, BV Đà Nẵng` = "emergency department, Da Nang hospital",
                           `Khoa Hồi sức tích cực, BV Đà Nẵng` = "intensive care unit, Da Nang hospital",
                           `Khoa Hồi sức Tích cực, BV Đà Nẵng` = "intensive care unit, Da Nang hospital",
                           `Khoa Hồi sức tích cực. BV Đà Nẵng` = "intensive care unit, Da Nang hospital",
                           `Khoa HSTC, BV Đà Nẵng` = "intensive care unit, Da Nang hospital",
                           `Khoa HSTC, Khoa Thận - Nội tiết, BV Đà Nẵng` = "",
                           `Khoa Huyết học - truyền máu, BV Đà Nẵng` = "hematology and blood transfusion department, Da Nang hospital",
                           `Khoa Lão, BV Đà Nẵng` = "geriatrics department, Da Nang hospital",
                           `Khoa lão, BV Đà Nẵng` = "geriatrics department, Da Nang hospital",
                           `Khoa Lão, Khoa Hồi sức Tích cực, Khoa Nội thần kinh, BV Đà Nẵng` = 
                             "geriatrics, intensive care unit and neurology department, Da Nang hospital",
                           `Khoa Mắt, BV C Đà Nẵng` = "ophthalmology department, C Da Nang hospital",
                           `Khoa Mắt, BV Đà Nẵng` = "ophthalmology department, Da Nang hospital",
                           `Khoa Ngoại - Bỏng, BV Đà Nẵng` = "surgery and burn department, Da Nang hospital",
                           `Khoa Ngoại - Thần kinh - BV Đà Nẵng` = "neurosurgery department, Da Nang hospital",
                           `Khoa Ngoại - Thần kinh, BV Đà Nẵng` = "neurosurgery department, Da Nang hospital",
                           `Khoa Ngoại cấp cứu, BV Đà Nẵng` = "surgical emergency unit, Da Nang hospital",
                           `Khoa Ngoại chấn thương - thần kinh, BV C Đà Nẵng` = 
                             "division of trauma general surgery, neurology, C Da Nang hospital",
                           `Khoa Ngoại chấn thương-Chỉnh hình, BV Đà Nẵng` = 
                             "division of trauma general surgery, orthopedics, Da Nang hospital",
                           `Khoa Ngoại chấn thương, BV Đà Nẵng` = "division of trauma general surgery, Da Nang hospital",
                           `Khoa Ngoại Chấn thương, BV Đà Nẵng` = "division of trauma general surgery, Da Nang hospital",
                           `Khoa Ngoại thần kinh, BV Đà Nẵng` = "neurosurgery department, Da Nang hospital",
                           `Khoa Ngoại thận, BV Đà Nẵng` = "nephrological surgery department, Da Nang hospital",
                           `Khoa Ngoại tiết niệu, BV Đà Nẵng` = "urology department, Da Nang hospital",
                           `Khoa Ngoại Tim mạch, BV Đà Nẵng` = "cardiac surgery department, Da Nang hospital",
                           `Khoa Ngoại tổng hợp, BV Đà Nẵng` = "general surgery department, Da Nang hospital",
                           `Khoa Ngoại Tổng hợp, BV Đà Nẵng` = "general surgery department, Da Nang hospital",
                           `Khoa Ngoại yêu cầu, BV Đà Nẵng` = "general surgery department, Da Nang hospital",
                           `Khoa Ngoại- Thần kinh, BV Đà Nẵng` = "neurosurgery department, Da Nang hospital",
                           `Khoa Nội - Hô hấp, BV Đà Nẵng` = "internal medicine , respiratory department, Da Nang hospital",
                           `Khoa Nội hô hấp, BV Đà Nẵng` = " respiratory department, Da Nang hospital",
                           `Khoa Nội thận - Nội tiết, BV Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Thận-Nội tiết, Bệnh viện Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Nội thận - Tiết niệu, BV C Đà Nẵng` = "nephrology department, C Da Nang hospital",
                           `Khoa Nội thận - tiết niệu, BV C Đà Nẵng` = "nephrology department, C Da Nang hospital",
                           `Khoa Nội thận-Nội tiết niêu, BV Đà Nẵng` = "nephrology department, Da Nang hospital",
                           `Khoa Thận tiết niêu, BV Đà Nẵng` = "nephrology department, Da Nang hospital",
                           `Khoa Nội Thần Kinh - BV Đà Nẵng` = "neurology department, Da Nang hospital",
                           `Khoa Nội thần kinh, BV Đà Nẫng` = "neurology department, Da Nang hospital",
                           `Khoa Nội Thần kinh - Cơ xương khớp - Huyết học, BV Đà Nẵng` = 
                             "neurology, musculoskeletal and hematologydepartment, Da Nang hospital",
                           `Khoa Nội thần kinh-Huyết học, BV Đà Nẵng` = "neurology and hematology department, Da Nang hospital",
                           `Khoa Nội thần kinh, BV Đà Nẵng` = "neurology department, Da Nang hospital",
                           `Khoa Nội Thần Kinh, BV Đà Nẵng` = "neurology department, Da Nang hospital",
                           `Khoa Nội Thần kinh, BV Đà Nẵng` = "neurology department, Da Nang hospital",
                           `Khoa Nội tiêu hóa, BV Đà Nẵng` = "gastroenterology department, Da Nang hospital",
                           `Khoa Nội tiêu hóa, khoa Nội thần kinh, BV Đà Nẵng` = "gastroenterology department, neurology department, Da Nang hospital",
                           `Khoa Nội Tim mạch, BV C Đà Nẵng` = "cardiology department, C Da Nang hospital",
                           `Khoa Nội Tim mạch, BV Đà Nẵng` = "cardiology department, Da Nang hospital",
                           `Khoa Nội Tim Mạch, BV Đà Nẵng` = "cardiology department, Da Nang hospital",
                           `Khoa Nội tổng hơp, BV Đà Nẵng` = "internal medicine department, Da Nang hospital",
                           `Khoa Nội tổng hợp, BV Đà Nẵng` = "internal medicine department, Da Nang hospital",
                           `Khoa Nội tổng hợp, Khoa Lão - BV Đà Nẵng` = "internal medicine department, Da Nang hospital",
                           `Khoa Nội, BV Bình An` = "internal medicine department, Binh An hospital",
                           `Khoa Phục hồi chức năng, BV Đà Nẵng` = "rehabilitation department, Da Nang hospital",
                           `Khoa phục hồi chức năng, BV Đà Nẵng` = "rehabilitation department, Da Nang hospital",
                           `Khoa Tai - Mũi - Họng, BV Đà Nẵng.` = "otorhinolaryngology department, Da Nang hospital",
                           `Khoa Thận - Nội tiết, BV Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Thận - nội tiết, BV Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Thận - Nội tiết, khoa Lão BV Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Thần Kinh, BV Đà Nẵng` = "neurology department, Da Nang hospital",
                           `Khoa Thận Nội tiết, BV Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Thận-Nội tiết, BV Đà Nẵng` = "nephrology and endocrinology department, Da Nang hospital",
                           `Khoa Tim mạch can thiệp, BV Đà Nẵng` = "interventional cardiology department, Da Nang hospital",
                           `Khoa Tim mạch, BV C Đà Nẵng` = "cardiology department, C Da Nang hospital",
                           `Khoa Ung bướu, BV Đà Nẵng` = "oncology department, Da Nang hospital",
                           `Khoa Y học Cổ truyền, BV Đà Nẵng` = "traditional medicine department, Da Nang hospital",
                           `Khoa Y học Nhiệt đới, BV Đà Nẵng` = "tropical disease department, Da Nang hospital",
                           `Khoa Y học Nhiệt đới, Khoa Nội Hô hấp BV Đà Nẵng` = "tropical disease department, Da Nang hospital",
                           `Khoa Y học Nhiệt đới, Khoa Nội, BV Đà Nẵng` = "tropical disease department, Da Nang hospital",
                           `Khoa YHCT, BV Đà Nẵng` = "traditional medicine department, Da Nang hospital",
                           `Khu cư trú` = "residence area",
                           `Nhà BN619` = "house of BN619",
                           `Nơi làm việc` = "workplace",
                           `Noi làm việc` = "workplace",
                           `Sư đoàn 377` = "division 377",
                           `Tiệc cưới For You` = "wedding palace For You",
                           `Trung tâm Tim mạch, BV Đà Nẵng` = "cardiology department, Da Nang hospital",
                           `TTYT Cẩm Lệ` = "Cam Le medical center ",
                           `TTYT Hải Châu` = "Hai Chau medical center ",
                           `TTYT Hòa Vang` = "Hoa Vang medical center ",
                           `TTYT Thanh Khê` = "Thanh Khe medical center ",
                           `Chợ siêu thị Đà Nẵng` = "Da Nang supermarket",             
                           `Khoa Nội thần kinh, BV Đà Nẫng` = "neurology department, Da Nang hospital",
                           `Bệnh viện Đà Nẵng` = "Da Nang hospital",                                     
                           `Nhà hàng thế giới Bò tươi` =  "fresh beef restaurant",
                           `Nhà hàng Thế giới Bò tươi` = "fresh beef restaurant",
                           `Khu cách ly` = "quarantine stations"),

         suspected_source = recode(suspected_source,
                          `Bệnh viện Bình An` = "Binh An hospital",
                          `Bệnh viện Bình An\nBệnh viện ĐK Khu vực Quảng Nam` = "Binh An hospital and Quang Nam regional hospital",
                          `Bệnh viện Đa khoa Quảng Nam` = "Quang Nam eegional hospital",
                          `Bệnh viện Đà Nẵng\nBệnh viện Bình An` = "Da Nang hospital and Binh An hospital",
                          `Bệnh viện ĐK Khu vực Quảng Nam` = "Quang Nam regional hospital",
                          `BV Bình An` = "Binh An hospital",
                          `BV C Đà Nẵng` = "C Da Nang hospital",
                          `BV Đà Nẵng` = "Da Nang hospital",
                          `Bệnh viện Đà Nẵng` = "Da Nang hospital",
                          `BV Phẫu thuật chỉnh hình` = "orthopedic surgery hospital",
                          `BV Phụ sản - Nhi Đà Nẵng` = "Da Nang obstetrics and pediatrics hospital",
                          `BV Ung bướu Đà Nẵng` = "Da Nang oncology hospital",
                          `Chưa xác định` = "unknown",
                          `Cộng đồng` = "community",
                          `Đà Nẵng` = "Da Nang",
                          `Đại hội Đảng Quận Hải Châu` = "Hai Chau district party congress",
                          `Khu cư trú` = "residence area",
                          `Nhà hàng thế giới Bò tươi` = "fresh beef restaurant",
                          `Nhà hàng Thế giới Bò tươi` = "fresh beef restaurant",
                          `Tiệc cưới For You` = "wedding palace For You",
                          `TTYT Cẩm Lệ` = "Cam Le medical center",
                          `TTYT Hòa Vang` = "Hoa Vang medical center",
                          `Bệnh viện Ung bướu Đà Nẵng` = "Da Nang oncology hospital",
                          `Người cùng phòng tại khu cách ly` = "shared room at a quarantine station", 
                          `Gia đình` = "family",
                          `BV chỉnh hình và phục hồi chức năng Đà Nẵng` = "Da Nang orthopedics and rehabilitation hospital",
                          `Bệnh viện Phổi Đà Nẵng` = "Da Nang lung hospital"),
         relationship = recode(relationship,
                          `Tiếp xúc với BN416, cùng phòng với mẹ BN416` = "contacted with BN416, shared room with mother of BN416",
                          `Tiếp xúc với BN416 trong 3 phút` = "contacted with BN416 for 3 minutes",
                          `Mẹ` = "mother",
                          `Chồng` = "husband",
                          `Bố, họ hàng` = "father, relative",
                          `Người chung phòng bệnh` = "shared room patient",
                          `Cùng đi tiệc cưới For You` = "attended the wedding ceremony at For You",
                          `Người khám bệnh, mẹ, bà ngoại, người sống chung nhà` = "doctor, mother, maternal grandmother, housemate",
                          `Hàng xóm, họ hàng, người sống chung nhà` = "neighbor, relative, housemate",
                          `Chồng, họ hàng` = "husband, relative",
                          `Bố` = "father",
                          `Vợ, họ hàng, người chăm trong bệnh viện` = "wife, relative, care giver in hospital",
                          `Con gái, người chăm trong bệnh viện` = "daughter, care giver in hospital",
                          `Vợ, người chăm trong bệnh viện` = "wife, care giver in hospital",
                          `Cùng đến đám tang ông HCG` = "attended funeral for Mr. HCG",
                          `Con trai, họ hàng, người chăm trong bệnh viện` = "son, relative, care giver in hospital",
                          `Con gái, họ hàng, người chăm trong bệnh viện` = "daughter, relative, care giver in hospital",
                          `Họ hàng, người thăm trong bệnh viện` = "relative, visitor",
                          `Mẹ, người chăm trong bệnh viện` = "mother, care giver in hospital",
                          `Con trai, họ hàng, người chăm trong biện viện` = "son, relative, care giver in hospital",
                          `Con gái, chị em gái, mẹ, người chăm trong biện viện, đồng nghiệp` = 
                            "daughter, sister, mother, care giver, colleague",
                          `Mẹ, cùng phòng` = "mother, roommate",
                          `Chồng, bố` = "husband, father",
                          `Người chăm trong bệnh viện` = "care giver in hospital",
                          `Người được chăm` = "care receiver",
                          `Vợ, mẹ chồng, người chăm trong bệnh viện; cùng phòng` = "wife, mother-in-law, care giver  in hospital, roommate",
                          `Chồng, bố chồng, cùng phòng` = "husband, father-in-law, roommate",
                          `Hàng xóm, con dâu, cô dì, người sống chung nhà` = "neighbor, daughter-in-law, aunt, housemate",
                          `Con, người chăm trong bệnh viện` = "son/daughter, care giver in hospital",
                          `Chị em gái, họ hàng, người chăm trong bệnh viện, người sống cùng nhà` = 
                            "sister, relative, care giver, housemate",
                          `Người thân, người thăm trong bệnh viện` = "family member, visitor",
                          `Họ hàng, người chăm trong bệnh viện` = "relative, care giver",
                          `Nhân viên y tế` = "healthcare staff",
                          `Con cháu` = "offspring",
                          `Chồng, bố, ông, người thân, người sống cùng nhà` = "husband, father, grandfather, family member, housemate",
                          `Vợ, mẹ, bà, họ hàng, người chăm trong bệnh viện, người sống cùng nhà` = 
                            "wife, mother, grandmother, relative, care giver in hospital, housemate",
                          `Mẹ, cùng phòng điều trị` = "mother, shared room patient",
                          `Con ruột, người chăm trong bệnh viện` = "son, care giver",
                          `Bố, vợ, anh trai, cháu, người chăm trong bệnh viện, cùng tham dự đám tang HTN` = 
                            "father, wife, older brother, nephew, care giver in hospital, attended funeral for HTN",
                          `Con trai, người chăm trong bệnh viện` = "son, care giver",
                          `Sinh hoạt ở chùa` = "activities at pagoda",
                          `Ngồi chung bàn tại tiệc cưới For You` = "sit at the same table at the wedding palace For You",
                          `Người nhà` = "family member",
                          `NB826 (Hàng xóm)` = "BN826 (neighbor)",
                          `Cháu nội` = "paternal grandchild",
                          `Em dâu, mẹ, người chăm trong bệnh viện` = "sister-in-law, mother, care giver in hospital",
                          `Con ruột, mẹ` = "daughter, mother",
                          `Con gái, họ hàng, mẹ, người sống chung nhà, người chăm trong bệnh viện` = 
                            "daughter, relative, mother, housemate, care giver",
                          `Họ hàng, Người chăm tại nhà` = "relative, care giver at home",
                          `Con gái` = "daughter",
                          `Mẹ, vợ` = "mother, wife",
                          `Vợ, con dâu, người chăm trong bệnh viện` = "wife, daughter-in-law, care giver in hospital",
                          `Vợ, con trai` = "wife, son",
                          `Chồng, họ hàng, đi du lịch cùng` = "husband, relative, traveling companion",
                          `Người thăm trong bệnh viện` = "visitor",
                          `Bố, bố chồng, anh vợ, người chăm trong bệnh viện, người sống chung nhà` = 
                            "father, father-in-law, brother-in-law, care giver, housemate",
                          `Chị em gái, vợ, người chăm trong bệnh viện, người sống cùng nhà, em gái` = 
                            "sister, wife, care giver, housemate, younger sister",
                          `Con, cháu, thường xuyên tiếp xúc` = "daughter, chau, frequent contacts",
                          `Vợ, cháu, đi du lịch cùng` = "wife, chau, traveling companion",
                          `Họ hàng, đi du lịch cùng` = "relative, traveling companion",
                          `Họ hàng, vợ, người chăm trong bệnh viện` = "relative, wife, care giver",
                          `Hàng xóm, bố chồng` = "neighbor, father-in-law",
                          `Con trai` = "son",
                          `Cùng đám tang ông HCG` = "attended funeral for Mr. HCG",
                          `Con gái, chị em gái, người chăm trong bệnh viện` = "daughter, sister, care giver",
                          `Bố mẹ ruột, em trai` = "parents, younger brother",
                          `Con trai BN 688, 689, anh trai BN690, hàng xóm với các BN còn lại` = 
                            "son of BN688 and BN689, older brother of BN690, neighbor of other patients",
                          `Chung bệnh viện` = "same hospital",
                          `Vợ, cháu` = "wife, chau",
                          `Mẹ chồng, vợ, người chăm trong bệnh viện` = "mother-in-law, wife, care giver in hospital",
                          `Mẹ, chồng` = "mother, husband",
                          `Chị em gái, con gái` = "sister, daughter",
                          `Con dâu, mẹ` = "daughter-in-law, mother",
                          `Chồng, ông nội, bố chồng` = "husband, parental grandfather, father-in-law",
                          `Chị em gái, người chăm trong bệnh viện, chị gái` = "sister, caregiver in hospital, older sister",
                          `Vợ, mẹ, người chăm trong bệnh viện` = "wife, mother, care giver in hospital",
                          `Chị em gái, người chăm trong bệnh viện` = "sister, care giver in hospital",
                          `Cùng đám tang ông HCG, bạn bè` = "attended funeral for Mr. HCG, friend",
                          `Họ hàng, cùng đám tang ông HCG` = "relative, attended funeral for Mr. HCG",
                          `Bố mẹ chồng, người chăm trong bệnh viện` = "parents-in-law, care giver in hospital",
                          `Tiếp xúc trong bệnh viện` = "contacted in hospital",
                          `Anh trai, con trai, sống chung nhà` = "older brother, son, housemate",
                          `Mẹ, sống chung nhà` = "mother, housemate",
                          `Bố, người sống chung nhà, đồng nghiệp` = "father, housemate, colleague",
                          `Con trai, người sống chung nhà` = "son, housemate",
                          `Chị em chồng, người chăm trong bệnh viện, tiếp xúc tại nhà` = 
                            "sister-in-law, care giver in hospital, contacted at home",
                          `Chị em, mẹ, người chăm trong bệnh viện` = "sister, mother, care giver in hospital",
                          `Đồng nghiệp` = "colleague",
                          `Cháu ngoại, anh em họ, hàng xóm` = "maternal grandchild, relative, neighbor",
                          `Hàng xóm của BN420, con trai BN687` = "neighbor of BN420, son of BN687",
                          `Bạn học` = "classmate",
                          `Chị em vợ, người chăm trong bệnh viện, người sống cùng nhà, em trai` = 
                            "sister-in-law, care giver in hospital, housemate, younger brother",
                          `Cùng phòng điều trị` = "shared room patient",
                          `Con trai, người đi du lịch cùng` = "son, traveling companion",
                          `Mẹ, người đi du lịch cùng` = "mother, traveling companion",
                          `Họ hàng, người chăm trong bệnh viện, người chăm tại nhà, cùng tham dự đám tang bà NTD` = 
                            "relative, care giver in hospital, care giver at home, attended funeral for Mrs. NTD",
                          `Chồng, anh em trai, anh em rể` = "husband, brother, brother-in-law",
                          `Con gái, cháu nội, em họ` = "daughter, paternal grandchild, relative",
                          `Cô bên nội, bà nội` = "aunt, paternal grandmother",
                          `Bố BN619 và BN690, chồng BN688, hàng xóm với các BN còn lại; người trông BN726` = 
                            "father of BN619 and BN690, husband of BN688, neighbor of other patients, care giver for BN726",
                          `Mẹ BN619 và BN690, vợ BN688, hàng xóm với các BN còn lại; người trông BN726` = 
                            "mother of BN619 and BN690, wife of BN688, neighbor of other patients, care giver for BN726",
                          `Con BN688 và BN689, em trai BN619, hàng xóm với các BN còn lại` = 
                            "son of BN688 and BN689, younger brother of BN619, neighbor of other patients",
                          `Em vợ, dì` = "sister-in-law, aunt",
                          `Con trai, cháu` = "son, chau",
                          `Em họ, cô` = "cousin, aunt",
                          `Mẹ, người sống chung nhà` = "mother, housemate",
                          `Con gái, Cháu họ` = "daughter, niece",
                          `Con rể, chồng, anh rể, người chăm trong bệnh viện, người sống chung nhà` = 
                            "son-in-law, husband, brother-in-law, care giver, housemate",
                          `Con dâu, em dâu, người chăm trong bệnh viện, người sống chung nhà` = 
                            "daughter-in-law, sister-in-law, care giver, housemate",
                          `Mẹ, vợ, người chăm trong bệnh viện, người ở cùng nhà` = "mother, wife, care giver in hospital, housemate",
                          `Mẹ, chồng, người chăm trong bệnh viện, người ở cùng nhà` = "mother, husband, care giver in hospital, housemate",
                          `Bố, chồng, người chăm trong bệnh viện` = "father, husband, care giver",
                          `Hàng xóm cùng thôn (thông tin cần xác nhận)` = "neighbor (unverified information)",
                          `Con gái, em gái, em gái, cháu` = "daughter, younger sister, younger sister, chau",
                          `Con trai, người sống cùng nhà` = "son, housemate",
                          `Cùng đám tang ông HCG, họ hàng` = "attended funeral for Mr. HCG, relative",
                          `Bố mẹ, chồng, con trai, người sống chung nhà, người cùng tham gia đại hội` = 
                            "parents, husband, son, housemate, participated in the congress",
                          `Trẻ con được trông giữ` = "child received care",
                          `Chị gái, người chăm trong bệnh viện` = "older sister, care giver in hospital",
                          `Họ hàng, người chăm tại nhà, cùng tham dự đám tang bà NTD` = 
                            "relative, care giver at home, attended funeral for Mrs. NTD",
                          `Người cùng tham gia đại hội, chưa rõ mối quan hệ` = " participated in the congress, unknown relationship",
                          `Chồng, con gái, con rể, cháu ngoại, người sống chung nhà` = 
                            "husband, daughter, son-in-law, maternal grandchild, housemate",
                          `Gia đình đi du lịch cùng` = "traveling companion",
                          `Cùng chuyến xe` = "shared ride",
                          `Bạn, người đi du lịch cùng` = "friend, traveling companion",
                          `Gia đình` = "family",
                          `F1 của BN755` = "F1 of BN755",
                          `Họ hàng, cùng đám tang` = "relative, attended funeral",
                          `Bà ngoại` = "maternal grandmother",
                          `Em gái, người chăm trong bệnh viện, cùng phòng điều trị` = 
                            "younger sister, care giver in hospital, shared room patient",
                          `Người quen, chồng, cùng đám tang ông HCG` = "acquaintance, husband, attended funeral for Mr. HCG",
                          `Mẹ, mẹ chồng, người chăm trong bệnh viện` = "mother, mother-in-law, care giver in hospital",
                          `Cháu nội, con trai, cháu ngoại, người sống chung nhà` = 
                            "paternal grandchild, son, maternal grandchild, housemate",
                          `Con gái, con dâu, mẹ, người sống chung nhà` = "daughter, daughter-in-law, mother, housemate",
                          `F1 của BN656` = "F1 of BN656",
                          `Con trai, em trai, bố` = "son, younger brother, father",
                          `Bạn bè` = "friend",
                          `Họ hàng, cùng tham dự đám tang bà NTD` = "relative, attended funeral for Mrs. NTD",
                          `Cùng phòng bệnh BN428, bố chồng BN989, chồng BN929, bố chồng, ông nội BN928` = 
                            "shared room with patient BN428, father-in-law of BN989, husband of BN929, father-in-law, grandfather of BN928",
                          `Mẹ, bà ngoại, thông gia, người sống chung nhà` = "mother, maternal grandmother, connexion, housemate",
                          `Chồng, họ hàng, người chăm trong bệnh viện` = "husband, relative, care giver in hospital",
                          `Người cùng tham gia đại hội, chồng` = "participated in the congress, husband",
                          `Bố mẹ vợ, vợ, bố, người sống chung nhà` = "parents-in-law, wife, father, housemate",
                          `Ông bà ngoại, bố mẹ, người sống chung nhà` = "maternal grandparents, parents, housemate",
                          `Con gái, người sống chung nhà` = "daughter, housemate",
                          `Con dâu` = "daughter-in-law",
                          `Con` = "daughter",
                          `Vợ, chưa rõ quan hệ` = "wife, unknown relationship",
                          `Vợ` = "wife",
                          `Hàng xóm` = "neighbor",
                          `Chồng, bố, người sống chung nhà` = "husband, father, housemate",
                          `Vợ, mẹ, người sống chung nhà` = "wife, mother, housemate",
                          `Bố mẹ, em trai, người sống chung nhà` = "parents, younger brother, housemate",
                          `Cháu ngoại` = "maternal grandchild",
                          `Vợ, người sống chung nhà` = "wife, housemate",
                          `Người cùng nơi cách ly` = "same quarantine stations",
                          `Cháu, con dâu` = "chau, daughter-in-law",
                          `Họ hàng` = "relative",
                          `Người quen` = "acquaintance",
                          `Bác sĩ điều trị` = "doctor",
                          `Cùng khu chung cư` = "same appartment",
                          `Con trai, chồng` = "son, husband",
                          `Mẹ, con dâu` = "mother, daughter-in-law",
                          `Con trai, gia đình, người chăm trong bệnh viện` = "son, family member, care giver",
                          `Con dâu BN796, BN929, BN428 cùng phòng bệnh bố chồng, cô BN928` = 
                            "daughter-in-law of BN796 and BN929, BN428 shared the hospital room with father-in-law, aunt of BN928",
                          `Thông gia, tiếp xúc gần` = "connexion, close contacts",
                          `Bố chồng bà chủ, Mẹ bà chủ, đồng nghiệp` = "owner's father-in-law, owner's mother, colleague",
                          `Người chăm sóc thuê` = "care giver",
                          `Cháu` = "chau",
                          `Chồng, con dâu, cháu` = "husband, daughter-in-law, chau",
                          `Ông nội, bố chồng` = "paternal grandfather, father-in-law",
                          `Cháu nội, con trai` = "paternal grandchild, son",
                          `con gái, mẹ` = "daughter, mother",
                          `Con gái` = "daughter",                   
                          `đồng nghiệp` = "colleague",
                          `con trai` = "son",
                          `Bố, chồng` = "father, husband",
                          `Bệnh nhân,cùng khu cách ly` = "patient, same quarantine stations", 
                          `Cháu nội,con gái` = "paternal grandchild, daughter",  
                          `Chồng, bố, bố chồng, ông ngoại, người sống chung nhà` = "husband, father, father-in-law, maternal grandfather, housemate",
                          `Người nằm cùng phòng với chị gái` = "shared room with older sister",
                          `Đồng nghiệp với BN750, BN833, BN861 và nằm cùng phòng bệnh với BN832` = "colleague of BN750, BN833, BN861 and shared room with BN832",
                          `Vợ, mẹ chồng, bà nội` = "wife, mother-in-law, paternal grandmother",
                          `Cháu ruột, con trai` = "Chau, son",
                          `Chị dâu, mẹ` = "sister-in-law, mother",
                          `Bố vơ, chồng, ông ngoại, bố` = "father-in-law, husband, maternal grandfather, father",
                          `Mẹ vợ, vợ, bà ngoại, mẹ` = "mother-in-law, wife, maternal grandmother, mother",
                          `Con gái, cháu ngoại,cháu ngoại,cháu gái` = "daughter, maternal grandchild, maternal grandchild, niece",
                          `Em vợ, con gái, dì` = "sister-in-law, daughter, aunt",
                          `Cùng khu cách ly` = "same quarantine stations",
                          `đồng nghiệp` = "colleague",
                          `con trai` = "son",
                          `Bố, chồng` = "father, husband",
                          `Cháu nội,con gái` = "paternal grandchild, daughter",
                          `Người chăm sóc` = "care giver",
                          `cháu` = "chau",
                          `Cùng phòng cách ly` = "shared room in a quarantine station",
                          `Cộng đồng` = "community",
                          `Con trai,Bố,Chồng,con rể` = "son, father, husband, son-in-law",
                          `Chồng, cùng phòng cách ly` = "husband, shared room in a quarantine station",
                          `Đồng nghiệp đi ăn tiệc cùng` = "colleague and attended the same party",
                          `Em trai, người cùng phòng cách ly` = "younger brother, shared room in a quarantine station",
                          `Con trai, cháu nội` = "son, paternal grandchild",
                          `Mẹ, bà nội` = "mother, paternal grandmother",
                          `Anh trai` = "older brother",
                          `Em Trai` = "younger brother",
                          `Chồng, Ông nội,bố, Ông ngoại, bố` = "husband, paternal grandfather, father, maternal grandfather, father",
                          `Cháu nội (BN1017,BN1025), con, em họ, cháu gái` = "paternal grandchild (BN1017,BN1025), daughter, cousin, niece",           
                          `Con trai (BN1014,BN1025), bố, cậu, em trai` = "son (BN1014,BN1025), father, uncle, younger brother",              
                          `Cháu ngoại (BN1017,BN1025), chị họ, cháu gái, con gái` = "maternal grandchild (BN1017,BN1025), cousin, niece, daughter",
                          `Con gái (BN1017,BN1025), bác gái, Chị gái, mẹ` = "daughter (BN1017, BN1025), aunt, older sister, mother",                 
                          `Đồng nghiệp, Bố` = "colleague, father"),
         relationship = strsplit(relationship, ", "),

         profession_gr = case_when(profession %in% c("engineer") ~ "architecture and engineering",
                   profession %in% c("business", "coffee business", "paint business", "freelancer", 
                                     "accountant", "employee at a bank") ~ "business, finance, sales and related",
                   profession %in% c("care giver", "child care", "housewife", "staying home") ~ "caring and service",
                   profession %in% c("worker", "sanitary worker", "mason", "painter", "railway worker") ~ "construction, cleaning and maintenance",
                   profession %in% c("instructor", "teacher", "pupil", "vice-president of a school", 
                                     "student", "translator", "martial teacher", "preschool teacher", 
                                     "president of a school") ~ "education, training, translation and library",
                   profession %in% c("farmer", "farming", "employee at Central seafood company") ~ "farming and fishing",
                   profession %in% c("chef", "cook", "bar employee", "waitress/waiter") ~ "food preparation and serving",
                   profession %in% c("doctor", "nurse", "pharmacist", "paramedic", "healthcare staff", "healthcare staff at Cam Le medical center",
                                     "healthcare staff at Hai Chau medical center") ~ "healthcare",
                   profession %in% c("soldier", "official", "state official", "chairman of the People’s Committee", "police", "director",
                                     "toll station director", "vice president of the Ward") ~ "government and management",
                   profession %in% c("technician", "computer technician", "car repairman", "phone repairman") ~ "installation and repair",
                   profession %in% c("boat driver (service)", "driver", "bus operator", "motorbike driver") ~ "transportation and materials moving",
                   profession %in% c("guard") ~ "protective service",
                   profession %in% c("barber", "tailor", "tattooist") ~ "design",
                   profession %in% c("employee at television station", "customer service representative") ~ "entertainment and media",
                   profession %in% c("retire", "none", "nun", "veteran", "child") ~ "others")
  )
```
